<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        {# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}

        {% block stylesheets %}
          {{ encore_entry_link_tags('app') }}
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
          <script src="https://kit.fontawesome.com/71a05e99e5.js" crossorigin="anonymous"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
          <link rel="preconnect" href="https://fonts.googleapis.com">
          <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
          <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
          
        {% endblock %}

        {% block javascripts %}
          <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
          {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>
    <style>
    .pagination .page-item .page-link {
      font-size: .8rem !important;
    }

    .dropdown {
      position:relative;
    }
    .dropdown>a{
      transition: all .2s ease-in;
      color:#3a506b;
    }
    .dropdown .dropdown-menu-styled {
      position:absolute;
      font-size:1rem;
      opacity:0;
      height:0;
      margin-top:.2rem;
      top: 40px;
      transition: all .25s ease-in;
      list-style-type: none;
      padding: 10px;
      border-radius: 0 0 5px 5px;
      overflow:hidden;
      text-align: start;
      left: -30px;
      font-size: .9rem;
      background-color:white;
    }
    .dropdown:hover>a {
      color:black;
    }
    .dropdown:hover .dropdown-menu-styled {
        display: block;
        top:38px;
        opacity:1;
        height:auto;
        /* remove the gap so it doesn't close */
    }
    .dropdown:hover .dropdown-menu-styled a{
      background-color: transparent;
      transition: all .2s ease-in;
      padding: 0;
      
    }
    .dropdown:hover .dropdown-menu-styled a:hover {
      text-decoration:underline;
      
    }
    .dropdown>div>img {
      transition: all .25s ease-in-out;
    }
    .dropdown:hover>div>img {
      transform: rotateZ(180deg);
    }
    .nav-item-styled {
      color:#3a506b;
      transition: all .2s ease-in;
    }
    .nav-item-styled:hover {
      color:black;
    }
    .text-title {
      color:#3a506b;
      transition: all .1s ease-in;
    }
    .text-title:hover {
      color:#e63946;
    }

    @media (max-width: 696px) {
      #navbar {
        height: 5.25% !important;
        padding-left: 3% !important;
        padding-right: 3% !important;
      }
      #navbar>div>:nth-child(1) {
        display: none !important; 
      }
      #navbar>div{
        display:flex !important;
        width: 100% !important;
        justify-content: center !important;
      }
      #navbar>div>div>ul {
        justify-content: space-between !important;
        padding-left: 0px !important;
      }
    }

    @media (max-width:950px) {
      nav {
        height:5%;
      }
      body {
        font-size: .95rem
      }
      nav {
        padding: 5px 7% !important;
        font-size: .975rem;
      }
      .user-profile-dropdown {
        left:-90px !important;
      }
      #navbar-img {
        display: none;
      }
    }

    @media (max-width: 991px) {
      div>div>div>div>a {
        font-size: .85rem !important;
      }
      h3 {
        font-size:1.4rem !important;  
      }

      #order-show-container {
        display: flex !important;
        flex-direction: column !important;
      }
      #order-table-container {
        width: 100% !important;
      }
      #order-detail-container {
        overflow-y: scroll !important;
        width: 100% !important;
      }
      #order-image-detail {
        display: none !important;
      }
      #responsive-detail-container {
        display: flex !important;
        justify-content: space-between !important;
      }
      
      .hidden-id-admin-table {
        display: flex !important;
      }

      #orders-div {
        width:100% !important;
        margin: 0 !important;
        max-width: 100% !important;
      }
      .memo-cell {
        display:none !important;
      }

      #footer-img {
        display:none
      }

      .footer-text {
        justify-content:center
      }

      #responsiveForm{
        display: flex !important;
        flex-direction: column !important ;
      }

      #responsiveForm>div:nth-child(1){
        height: 50%;
        width: 100% !important;
        max-height: 50%;
      }

      #responsiveForm>div:nth-child(2){
        width: 100% !important;
        height: 50%;
      }

    }

    .background-div {
      background: url('https://images.unsplash.com/photo-1533090161767-e6ffed986c88?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2069&q=80');
      background-size: cover;
      background-position: right bottom;
      height: 100%;
    }
    .home-buttons {
      overflow: hidden;
      transition: all .2s ease-in;
    }
    .home-buttons:hover {
      transform: translateY(-5px)
    }
    .link-buttons {
      text-decoration: none;
      transition: all .2s ease-in;
    }
    .link-buttons:hover {
      text-decoration: underline;
    }
    .gradient-bg {
      height:80%;
      background-image: linear-gradient(to top, #e6e9f0 0%, #eef1f5 100%);
      
    }
    .card-links {
      font-size: .9rem;
      color: black;
      padding: .25rem;
      text-decoration: none;
      border-radius: 4px;
      transition: all .2s ease-in;
    }
    .card-links:hover {
      text-decoration: underline;
      color: #fb8500;
    }
    .stylized-btn {
      font-size: 1rem;
      font-weight: 600;
      text-decoration: none;
      transition: all .2s ease-in;
      color: #3a506b;
    }
    .stylized-btn:hover {
      text-decoration: underline;
      color: #40916c;
    }
    .profile-div a #logout-icon{
      position:absolute;
      color: grey;
      left:10px;
      top:2.5px;
      opacity:0%;
      transition: left .3s, opacity .5s;
    }
    .profile-div:hover a #logout-icon{
      left:20px;
      opacity:100%;
    }

    @media (max-width: 700px) {
      .home-div>div {
        width: 100%;
        padding-top: 0 !important;
        justify-content: center !important;
      }
      .home-div>div:nth-child(1) {
        height: 20% !important;
        width: 70% !important;
      }
      .home-div>div:nth-child(2) {
        height: 70% !important;
        width: 85% !important;
      }
      .home-buttons>div>div>div {
        display: flex !important;
        justify-content: center !important;
      }
      .home-div {
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        margin-left: 0 !important;
      }
      .home-div h1 {
        text-align: center;
        font-size: 2rem !important;
      }
      .home-div div div p {
        text-align: center;
        font-size: 0.95rem;
      }
      .cards {
        height: 70% !important;
        width: 65% !important;
        display:flex !important;
        flex-direction: column !important;
      }
      .cards div {
        width: 70% !important;
      }
      .cards div div {
        width: 100% !important;
      }
      .cards div div p {
        font-size: 1rem !important;
      }
      .cards div div div p {
        font-size: .85rem !important;
      }
    }
      .title-header-container {
        margin-top: 3.5rem !important;
        margin-bottom: 1.5rem !important;
      }
    @media (max-width: 1376px) and (min-width: 701px) {
      .home-div div {
        padding-top: 0 !important;
        
      }
      .home-div {
        display: flex !important;
        flex-direction: row !important;
        align-items: center !important;
      }
      .cards {
        height: 70% !important;
        width: 65% !important;
        display:flex !important;
        flex-direction: column !important;
      }
      .cards div {
        width: 70% !important;
      }
      .cards div div {
        width: 100% !important;
      }
    }
    .dot {
      height: 6px;
      width: 6px;
      background-color: grey;
      border-radius: 50%;
      display: inline-block;
    }
    .sortable {
      text-decoration: none !important;
    }
    .sortable span {
      float: none !important;
    }
    .logout-icon {
      font-size: 1.2rem !important;
    }
    .title-header-container h3 .subtext-header{
        font-size: .9rem !important;
      }
    .custom-table-header{
      font-size: .9rem !important;
    }
    .footer-text {
      font-size: .85rem !important;
    }
    .stylized-table {
      height: 59% !important;
      max-height: 59% !important;
    }
    .medical-table {
      height: 60% !important;
      max-height: 60% !important;
     }

    @media (max-width: 1280px) {
      .stylized-table {
            min-height: 63% !important;
            height: 63% !important;
            max-height: 63% !important;
            padding: 5px 16px !important;
          }
    }
    @media (min-width: 1367px) and (max-width: 1600px) {
      body {
        font-size: .9rem !important;  
      }
      .title-header-container{
        margin-top: 1rem !important;
      }
      .stylized-table{
        min-height: 70% !important;
        height: 70% !important;
      }
    }

    @media (min-width: 1281px) and (max-width: 1366px) {
     body {
      font-size: 13px !important;
     }
     .medical-add-btn{
      font-size: .8rem !important;
     }
     #buttonAdd{
      font-size: .9rem !important;
     }
     .footer-container p {
      font-size: .7rem !important;
     }
     .medical-table {
      height: 70% !important;
      max-height: 70% !important;
     }
     .custom-table-header{
      font-size: .75rem !important;
    }
    .footer-text {
      font-size: .75rem !important;
    }
    .table-body-text{
      font-size:0.75rem !important;
    }
    .table-body-text td {
      padding: 5px 8px !important;
    }
     .cards div div p {
       font-size: .95rem !important;
     }
     .cards div div div p {
       font-size: .8rem !important;
     }
     .home-div h1 {
        font-size: 2.5rem !important;
      }
      .home-div div div p {
        font-size: .95rem;
      }
      .card-link-container {
        font-size: .8rem !important;
      }
      footer p {
        font-size: .80rem !important;
      }
      .title-header-container {

      }
      .stylized-row {
        justify-content: center !important;
      }
     .logout-icon {
      font-size: 1rem !important;
     }
     #navbar-img {
      height: 30px !important;
     }
     .dropdown-menu-styled {
      margin-top: 0 !important;
     }
     .dropdown-menu-styled a {
      font-size: .75rem !important;
     }
     .title-header-container {
        margin-top: .25rem !important;
        margin-bottom: 1rem !important;
      }
      .title-header-container h3{
        font-size: 1.25rem !important;
      }
      .title-header-container h3 .subtext-header{
        font-size: .8rem !important;
      }
      .title-header-container a{
        font-size: .8rem !important;
      }
      .stylized-table {
        min-height: 71% !important;
        height: 71% !important;
        max-height: 71% !important;
        padding: 5px 16px !important;
      }
      #order-submit-btn{
        font-size: .8rem !important;
      }
    }
    </style>
    <body style="font-family: 'Roboto', sans-serif; overflow-x: hidden">
      <div class="d-flex flex-column" style="min-height:100vh; min-width: 100vw; height:100vh; max-width:100vw; width:100vw; overflow: hidden;">
        {% block navbar %}
          <nav id="navbar" class="navbar border-bottom" style="background-color: transparent; padding-left:10%; padding-right:10%; padding-bottom:4px; padding-top:4px;">
            <div class="d-flex justify-content-between w-100 align-items-center h-100">
              <a class="d-flex gap-2 align-items-center text-decoration-none mt-1" href="{{ path('app_home') }}" style="color:#3a506b;">
                <img src="/images/munilogowhite.png" alt="Logo de la Municipalidad de La Plata" height="40" id="navbar-img">
                <p class="mb-0 fw-bold text-title" style="" data-text="UMAD 2023">UMAD 2023</p>
              </a>
                <div class="d-flex h-100 align-items-center">
                {% if is_granted('ROLE_ADMIN') %}
                  <ul class="d-flex gap-3 me-auto mb-0 h-100 align-items-center" style="--bs-scroll-height: 200px; list-style-type:none;">
                    <li class="h-100 d-flex align-items-center">
                      <p type="button" class="mb-0" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        {{app.user.getHealthCenter()}} ({{app.user}})
                      </p>
                    </li>
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">{{app.user.getHealthCenter()}}</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <div class="d-flex flex-column w-100 h-100 overflow-auto">
                              <div class="d-flex justify-content-between gap-3">
                                <div class="w-100 h-100 d-flex flex-column gap-2 bg-white p-0 rounded-3">
                                    <p class="fw-normal mb-0 border-bottom">Usuario encargado: <span class="fw-light">{{app.user.lastname}} {{app.user.name}} | {{app.user.email}}</span></p>
                                    <p class="fw-normal mb-0 border-bottom">Dirección: <span class="fw-light">{{app.user.getHealthCenter().address}}</span></p>
                                    <p class="fw-normal mb-0 border-bottom">Teléfono: <span class="fw-light">{{app.user.getHealthCenter().phonenumber}}</span></p>
                                    <p class="fw-normal mb-0 border-bottom">Día de entrega asociado (determinado por administradora): <span class="fw-light">{{app.user.getHealthCenter().shipmentDay}}</span></p>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <li class="dropdown profile-div relative mt-1">
                    <a href="/logout">
                      <i class="fa-solid fa-person-walking logout-icon"></i>
                      <i class="fa-solid fa-arrow-right-from-bracket" id="logout-icon"></i>
                    </a>
                    </li>
                  </ul>
                  </ul>
                {% elseif is_granted('ROLE_USER') %}
                  <ul class="d-flex gap-3 me-auto mb-0 h-100 align-items-center" style="--bs-scroll-height: 200px; list-style-type:none;">
                    <li class="dropdown mt-1 h-100 d-flex align-items-center">
                      <div class="d-flex gap-1 align-items-center">
                        <p class="text-decoration-none py-0 mb-0" role="button" data-bs-toggle="dropdown" aria-current="page">Pedidos</p>
                        <img id="arrow-direction-image" src="https://img.icons8.com/external-those-icons-fill-those-icons/256/external-down-arrows-those-icons-fill-those-icons-1.png" height="12" alt="">
                      </div>
                      <div class="dropdown-menu-styled shadow-sm pe-1 ps-1 pb-1 pt-2" style="border-left: 1px solid #e5e5e5; border-right: 1px solid #e5e5e5;">
                        <a class="dropdown-item px-3 pt-0 pb-2 ps-2 pe-2" href="{{ path('app_order') }}">Listado de pedidos</a>
                        <a class="dropdown-item px-3 pb-1 ps-2 pe-2" href="{{ path('app_order_new') }}">Crear pedido</a>
                      </div>
                    </li>
                    <li class="dropdown mt-1 h-100 d-flex align-items-center">
                      <div class="d-flex gap-1 align-items-center">
                        <p class="text-decoration-none py-0 mb-0" role="button" data-bs-toggle="dropdown" aria-current="page">Muestras médicas</p>
                        <img id="arrow-direction-image" src="https://img.icons8.com/external-those-icons-fill-those-icons/256/external-down-arrows-those-icons-fill-those-icons-1.png" height="12" alt="">
                      </div>
                      <div class="dropdown-menu-styled shadow-sm pe-1 ps-1 pb-1 pt-2" style="border-left: 1px solid #e5e5e5; : 1px solid #e5e5e5; border-right: 1px solid #e5e5e5;">
                        <a class="dropdown-item px-3 pt-0 pb-2 ps-2 pe-2" href="{{ path('app_medical_samples') }}">Listado de muestras médicas</a>
                        <a class="dropdown-item px-3 pb-1 ps-2 pe-2" href="{{ path('app_medical_samples_new') }}">Agregar Muestra médica</a>
                      </div>
                    </li>
                    {# <li class="mt-1">
                      <a class="text-decoration-none nav-item-styled pe-1 mb-0" href="{{path('app_health_index', {'healthcenter' : app.user.getHealthCenter() }) }}">{{app.user.getHealthCenter()}} ({{app.user}})</a>
                    </li> #}
                    <li class="h-100 d-flex align-items-center">
                      <p type="button" class="mb-0" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        {{app.user.getHealthCenter()}} ({{app.user}})
                      </p>
                    </li>
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">{{app.user.getHealthCenter()}}</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                            <div class="d-flex flex-column w-100 h-100 overflow-auto">
                              <div class="d-flex justify-content-between gap-3">
                                <div class="w-100 h-100 d-flex flex-column gap-2 bg-white p-0 rounded-3">
                                    <p class="fw-normal mb-0 border-bottom">Usuario encargado: <span class="fw-light">{{app.user.lastname}} {{app.user.name}} | {{app.user.email}}</span></p>
                                    <p class="fw-normal mb-0 border-bottom">Dirección: <span class="fw-light">{{app.user.getHealthCenter().address}}</span></p>
                                    <p class="fw-normal mb-0 border-bottom">Teléfono: <span class="fw-light">{{app.user.getHealthCenter().phonenumber}}</span></p>
                                    <p class="fw-normal mb-0 border-bottom">Día de entrega asociado (determinado por administradora): <span class="fw-light">{{app.user.getHealthCenter().shipmentDay}}</span></p>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <li class="dropdown profile-div relative mt-1">
                    <a href="/logout">
                      <i class="fa-solid fa-person-walking logout-icon"></i>
                      <i class="fa-solid fa-arrow-right-from-bracket" id="logout-icon"></i>
                    </a>
                    </li>
                  </ul>
              {% endif %}
                </div>
            </div>
          </nav>
        {% endblock %}
        {% block body %}
        {% endblock %}
        {% block footer %}
          <footer class="bg-light text-center text-lg-start border-top">
            <div class="container p-3 footer-container">
              <div class="row stylized-row">
                <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-12 col-sm-12 d-flex align-items-center">
                  <img id="footer-img" src="/images/munilogo.png" alt="foto" style="filter: invert(100%)" height="40">
                </div>
                <div class="col-xxl-5 col-xl-4 col-lg-4 col-md-5 col-sm-6">
                  <p class="text-uppercase fw-bold mb-1" style="font-size:1rem; color: #3a506b">Sistema UMAD</p>
                  <p style="font-size: .85rem" class="fw-light mb-0">
                    Desarrollado en la Municipalidad de La Plata, subdirección ejecutiva de sistemas, dirección de redes y operaciones, 2023.
                  </p>
                </div>
                <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-5 col-sm-6 contact-div">
                  <p class="text-uppercase fw-bold mb-1" style="font-size:1rem; color: #3a506b">Contacto</p>
                  <div class="d-flex align-items-center gap-2 fw-light footer-text" style="font-size: .85rem">
                    <i class="fa-regular fa-envelope"></i><p class="mb-0"><span class="fw-normal pe-1" style="color: #3a506b">Mail:</span> umadmlp@gmail.com</p>
                  </div>
                  <div class="d-flex align-items-center gap-2 fw-light footer-text" style="font-size: .85rem">
                    <i class="fa-solid fa-phone"></i><p class="mb-0"><span class="fw-normal pe-1" style="color: #3a506b">Teléfono:</span> 4510319</p>
                  </div>
                  <div class="d-flex align-items-center gap-2 fw-light footer-text" style="font-size: .85rem">
                    <i class="fa-regular fa-map"></i><p class="mb-0"><span class="fw-normal pe-1" style="color: #3a506b">Dirección:</span> 55 e/ 18 y 19 n°1185 1/2</p>
                  </div>
                </div>
              </div>
            </div>
          </footer>
        {% endblock %}
      </div>
    </body>
</html>